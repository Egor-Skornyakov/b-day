@if (tick$ | async; as data) {

    <header>
        <div class="heart">‚ô•Ô∏è</div>
        <h1>–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
        <p>–ö–∞–∂–¥—ã–π —á–∞—Å —Ç—ã –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π –Ω–æ–≤—ã–π —Å—É–Ω–¥—É–∫. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏ —É–≤–∏–¥–µ—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –≥–¥–µ —Å–ø—Ä—è—Ç–∞–Ω —Å—é—Ä–ø—Ä–∏–∑!</p>
        @if (data.openedItems >= cheasts.length) {
            <p>–£—Ä–∞! –¢—ã –æ—Ç–∫—Ä—ã–ª–∞ –≤—Å–µ —Å—É–Ω–¥—É–∫–∏!</p>
        } @else if (data.availableToOpen > 0) {
            <p>–¢—ã –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å <strong>{{ data.availableToOpen }}</strong>
                —Å—É–Ω–¥—É–∫@if (data.availableToOpen >= 5) {–æ–≤}
            @else if (data.availableToOpen > 1 && data.availableToOpen < 5) {a}</p>
        }
    </header>
    <h1></h1>


    <ul class="chests">
        @for (cheast of cheasts; track $index) {
            <li>
                <div
                        [class.opened]="cheast.opened"
                        [class.disabled]="!cheast.opened && data.availableToOpen === 0"
                        (click)="openCheast(cheast)"
                        class="content">
                    <strong class="num">{{ $index + 1 }}</strong>
                </div>
                <div class="lock">
                    <span>üîí</span>
                    <div class="countdown">
                        {{data.countDown}}
                    </div>
                </div>
            </li>
        }
    </ul>

        <div class="modal" [@openClose]="!!(modalSubject | async)">
            @if (modalSubject | async; as cheast){
                <div>
                    <div class="white">
                        <strong class="num big">{{ cheast?.id }}</strong>
                        <h1>–ü–æ–¥–∞—Ä–æ—á–µ–∫ –æ—Ç {{ cheast?.title }}</h1>
                        <p>{{ cheast?.text }}</p>
                    </div>
                </div>
            }
            <button class="close-button" type="button" (click)="modalSubject.next(null)">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
}
