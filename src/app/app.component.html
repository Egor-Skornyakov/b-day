@if (tick$ | async; as data) {

    <header>
        <div class="heart">‚ô•Ô∏è</div>
        <h1>–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
        <p>–ö–∞–∂–¥—ã–π —á–∞—Å –≤ –∏–≥—Ä–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å—É–Ω–¥—É–∫. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏ —É–≤–∏–¥–µ—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –≥–¥–µ —Å–ø—Ä—è—Ç–∞–Ω
            —Å—é—Ä–ø—Ä–∏–∑!</p>
        @if (data.openedItems >= cheasts.length) {
            <p>–£—Ä–∞! –¢—ã –æ—Ç–∫—Ä—ã–ª–∞ –≤—Å–µ —Å—É–Ω–¥—É–∫–∏!</p>
        } @else if (data.availableToOpen > 0) {
            <p>–¢—ã –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å <strong>{{ data.availableToOpen }}</strong>
                —Å—É–Ω–¥—É–∫@if (data.availableToOpen >= 5) {–æ–≤}
            @else if (data.availableToOpen > 1 && data.availableToOpen < 5) {a}</p>
        }
    </header>
    <h1></h1>


    <ul class="chests">
        @for (cheast of cheasts; track $index) {
            <li>
                <div
                        [class.opened]="cheast.opened"
                        [class.disabled]="!cheast.opened && data.availableToOpen === 0"
                        (click)="openCheast(cheast)"
                        class="content">
                    <strong class="num">{{ $index + 1 }}</strong>
                </div>
                <div class="lock">
                    <span>üîí</span>
                    <div class="countdown">
                        {{data.countDown}}
                    </div>
                </div>
            </li>
        }
    </ul>

        <div class="modal" [@openClose]="!!(modalSubject | async)">
            @if (modalSubject | async; as cheast){
                <div>
                    <div class="white">
                        <strong class="num big">{{ cheast?.id }}</strong>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                            Aenean at enim in ante sodales mollis.
                            Praesent ut leo non eros tristique suscipit.
                            Nunc non felis tempor, lobortis massa quis, fringilla justo.
                            Proin tempus augue eu magna mattis ullamcorper.
                            Etiam dignissim libero pretium metus rhoncus, id aliquet dui efficitur.
                            Aenean in ligula a tortor ultrices consectetur.
                            Fusce in quam id nunc fringilla convallis.
                            Donec fermentum orci non porta tincidunt.
                            Phasellus interdum est ac nisl dictum, id pharetra lorem tincidunt.
                            Cras euismod sapien vel dolor hendrerit, nec imperdiet nisi pellentesque.
                            Mauris a mauris a nisi lobortis lobortis et et sapien.
                            Vestibulum quis turpis in orci venenatis condimentum.
                            Vivamus in eros ut elit dignissim porttitor eu ac dui.
                            Nunc gravida magna nec felis pretium mattis.
                            Aenean sit amet sapien et dolor pellentesque vehicula id non lectus.
                            Sed sollicitudin sapien sit amet erat rutrum condimentum.
                            Donec elementum ante ac feugiat ullamcorper.</p>

                    </div>
                </div>
            }
            <button class="close-button" type="button" (click)="modalSubject.next(null)">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
}
